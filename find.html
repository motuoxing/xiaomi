<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
  		<link rel="stylesheet" type="text/css" href="css/find.css"/>
  		
  		<script src="js/mui.min.js"></script>
		
	</head>

	<body>
		
		<header class="mui-bar mui-bar-nav">
		     <div>
		    	<input type="text" />
		    </div>
		    <i class="mui-icon iconfont icon-xiaoxi"></i>
		</header>
		
		<div class="mui-content mui-scroll-wrapper">
			<div class="mui-scorll">
			    <div class="usernav">
				
					<a href="">
						<i class="mui-icon iconfont icon-yuan"></i>
						<span>真心想要</span>
					</a>
					<a href="">
						<i class="mui-icon iconfont icon-dianhuaqia"></i>
						<span>真心想要</span>
					</a>
					<a href="">
						<i class="mui-icon"></i>
						<span>真心想要</span>
					</a>
					<a href="">
						<i class="mui-icon"></i>
						<span>真心想要</span>
					</a>
					<a href="">
						<i class="mui-icon"></i>
						<span>真心想要</span>
					</a>
				</div>
				
				
				<section class="location">
					<ul class="mui-table-view">
					    <li class="mui-table-view-cell">
					        <a class="mui-navigate-right">
					        	
					        	<img src="images/find/location.png" alt="" />
					        	<div>
					        		<p class="c000">小米之家北京五彩城店</p>
					        		<p class="c888">距离77公里</p>
					        	</div>
					        	<span>其它更多店</span>
					        </a>
					    </li>
				   </ul>
				</section>
				
				
				<!--//商场早报-->
				<div class="morning">
				
				
					<div class="title">商场早报</div>
				
					<div class="content">
						<p class="item"><a href="">新闻1新闻1 </a></p>
						<p class="item"><a href="">新闻2新闻22 </a></p>
						<p class="item"><a href="">新闻3新闻 333</a></p>
					</div>
					
				</div>
				
				<section class="news">
					<div class="newscontainer mui-scroll-wrapper mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
					    <div class="mui-scroll">
					        <a class="mui-control-item">
					            新品
					        </a>
					        <a class="mui-control-item">
					            特惠
					        </a>
					        <a class="mui-control-item">
					            开箱
					        </a>
					        <a class="mui-control-item">
					            评测
					        </a>
					       
					    </div>
					</div>
				</section>
				
				
				<section class="ad">
					<div class="mui-card">
						
						<div class="mui-card-content">
							
							<img src="images/find/adv.jpg" alt="" />
							<div class="info">
								<p class="c000">世界上没有捷径</p>
								<p class="c888">如果有的话，你也走不上去！</p>
							</div>
						</div>
						<!--页脚，放置补充信息或支持的操作-->
						<div class="mui-card-footer">
							<span>时间</span>
							<span>阅读</span>
						</div>
					</div>
				</section>
				<section class="productList">
					
					<ul class="mui-table-view " id="data">
					    <li class="mui-table-view-cell">
					    	<img src="images/find/find1.jpg" alt="" />
					    	<div>
					    		<p class="c000 good-name">产品名称</p>
					    		<p class="c888 good-footer"><span>发布时间</span> <span>888人阅读</span></p>
					    	</div>
					    	
					    </li>
					    <li class="mui-table-view-cell">
					    	<img src="images/find/find2.jpg" alt="" />
					    	<div>
					    		<p class="c000 good-name">产品名称产品名称产品名称产品名称产品名称产品名称产品名称产品名称产品名称</p>
					    		<p class="c888 good-footer"><span>发布时间</span> <span>888人阅读</span></p>
					    	</div>
					    </li>
					    <li class="mui-table-view-cell">
					    	<img src="images/find/find3.jpg" alt="" />
					    	<div>
					    		<p class="c000 good-name">称称产品名称产品名称产品名称产品名称产品名称产品名称</p>
					    		<p class="c888 good-footer"><span>发布时间</span> <span>888人阅读</span></p>
					    	</div>
					    	
					    </li>
				
					</ul>
				</section>

			</div>
		</div>
		
		<nav class="mui-bar mui-bar-tab">
		    <a class="mui-tab-item" href="index.html">
		        <span class="mui-icon iconfont icon-shouye"></span>
		        <span class="mui-tab-label">首页</span>
		    </a>
		    <a class="mui-tab-item" href="categroy.html">
		        <span class="mui-icon iconfont icon-iconfind"></span>
		        <span class="mui-tab-label">分类</span>
		    </a>
		    <a class="mui-tab-item  mui-active" href="find.html">
		        <span class="mui-icon iconfont icon-faxian"></span>
		        <span class="mui-tab-label">发现</span>
		    </a>
		    <a class="mui-tab-item" href="order.html">
		        <span class="mui-icon iconfont icon-gouwuche-copy"></span>
		        <span class="mui-tab-label">购物车</span>
		    </a>
		    <a class="mui-tab-item" href="setting.html">
		        <span class="mui-icon iconfont icon-wode"></span>
		        <span class="mui-tab-label">我的</span>
		    </a>
		</nav>
		
		
		<script src="js/xiaomi.js" type="text/javascript" charset="utf-8"></script>
		
		
		<script type="text/javascript">
			
			mui('.newscontainer').scroll({
				scrollY:false, //是否竖向滚动
      			scrollX:true, //是否横向滚动
				deceleration:0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
			});

			mui('.mui-content').scroll({
				deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
			});
			
			mui.init({
			  pullRefresh : {
			    container:".mui-content",//待刷新区域标识，querySelector能定位的css选择器均可，比如：id、.class等
			    up : {
			      height:50,//可选.默认50.触发上拉加载拖动距离
			      auto:false,//可选,默认false.自动上拉加载一次
			      contentrefresh : "数据正在来的路上...",//可选，正在加载状态时，上拉加载控件上显示的标题内容
			      contentnomore:'讨厌，人家被你看完了',//可选，请求完毕若没有更多数据时显示的提醒内容；
			      callback :function(){
			      	var that = this;
			      	var lis = document.getElementById("data").querySelectorAll("li");
			      	setTimeout(function(){
			      		
			      		console.info("加载数据........");
			      		var rs = addData(); //
			      		console.info( rs );
			      		// 如果传入的参数是false;说明还有数据
			      		// 如果传入的参数是 true; 说明没有数据了
			      		that.endPullupToRefresh( !rs ); 
			      	},1000);
			      } //必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
			    }
			  }
			});
			
			function addData(){
				var flag = true; //可以正常加载3张。
				var data = document.getElementById("data");
				
				var len = data.querySelectorAll("li").length;
				//模拟一下，从后台取数据，然后，加入到data这个ul中。//假设每次取5条
				for(var i =1; i <= 5;i++){
				 
				 if( len+i == 17){ //本地最多只有16张 
				 	flag = false;
				 	break;
				 }
				 
				 var li = document.createElement("li"); 
				 li.className = "mui-table-view-cell";
				 
				 li.innerHTML = '<img src="images/find/find'+(len+i)+'.jpg" alt="" />'+
			    	'<div>'+
			    		'<p class="c000 good-name">称称产品名称产品名称产品名称产品名称产品名称产品名称</p>'+
			    		'<p class="c888 good-footer"><span>发布时间</span> <span>888人阅读</span></p>'+
			    	'</div>';
			    	
			     data.appendChild( li );
			  }
			   return flag;
			}
		</script>
	</body>

</html>